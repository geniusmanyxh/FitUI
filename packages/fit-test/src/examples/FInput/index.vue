<template>
  <div>
    <custom-nav title="FInput"></custom-nav>
    <div class="demoBox">
      <!-- åœºæ™¯ä¸€ï¼šåŸºç¡€è¾“å…¥ -->
      <div class="section">
        <h3>åŸºç¡€è¾“å…¥</h3>
        <div class="row">
          <FInput v-model="inputValue" placeholder="è¯·è¾“å…¥å†…å®¹" />
        </div>
      </div>

      <!-- åœºæ™¯äºŒï¼šä¸åŒç±»å‹è¾“å…¥ -->
      <div class="section">
        <h3>ä¸åŒç±»å‹è¾“å…¥</h3>
        <div class="row">
          <FInput v-model="inputValue" type="text" placeholder="æ–‡æœ¬è¾“å…¥" />
          <FInput v-model="passwordValue" type="password" placeholder="è¯·è¾“å…¥å¯†ç " />
          <FInput v-model="numberValue" type="number" placeholder="æ•°å­—è¾“å…¥" />
          <FInput v-model="emailValue" type="email" placeholder="é‚®ç®±è¾“å…¥" />
          <FInput v-model="searchValue" type="search" placeholder="æœç´¢è¾“å…¥" />
        </div>
      </div>

      <!-- åœºæ™¯ä¸‰ï¼šä¸åŒå°ºå¯¸ -->
      <div class="section">
        <h3>ä¸åŒå°ºå¯¸</h3>
        <div class="row">
          <FInput v-model="inputValue" size="small" placeholder="å°å‹è¾“å…¥æ¡†" />
          <FInput v-model="inputValue" size="medium" placeholder="ä¸­å‹è¾“å…¥æ¡†" />
          <FInput v-model="inputValue" size="large" placeholder="å¤§å‹è¾“å…¥æ¡†" />
        </div>
      </div>

      <!-- åœºæ™¯å››ï¼šå¯æ¸…ç©º -->
      <div class="section">
        <h3>å¯æ¸…ç©º</h3>
        <p class="desc">é¼ æ ‡æ‚¬åœæˆ–èšç„¦æ—¶ï¼Œå½“æœ‰å†…å®¹æ—¶æ˜¾ç¤ºæ¸…ç©ºæŒ‰é’®</p>
        <div class="row">
          <FInput v-model="clearableValue" placeholder="è¯·è¾“å…¥å†…å®¹" clearable />
        </div>
      </div>

      <!-- åœºæ™¯äº”ï¼šå¯†ç å¯è§åˆ‡æ¢ -->
      <div class="section">
        <h3>å¯†ç å¯è§åˆ‡æ¢</h3>
        <p class="desc">ç‚¹å‡»çœ¼ç›å›¾æ ‡åˆ‡æ¢å¯†ç å¯è§æ€§</p>
        <div class="row">
          <FInput v-model="showPwdValue" type="password" placeholder="è¯·è¾“å…¥å¯†ç " show-password />
        </div>
      </div>

      <!-- åœºæ™¯å…­ï¼šå‰ç¼€å’Œåç¼€ -->
      <div class="section">
        <h3>å‰ç¼€å’Œåç¼€æ’æ§½</h3>
        <p class="desc">é€šè¿‡ prefix / suffix æ’æ§½åœ¨è¾“å…¥æ¡†å†…éƒ¨æ·»åŠ è‡ªå®šä¹‰å†…å®¹</p>
        <div class="row">
          <FInput v-model="inputValue" placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹">
            <template #prefix>
              <span class="slot-icon">ğŸ”</span>
            </template>
          </FInput>
          <FInput v-model="inputValue" placeholder="è¯·è¾“å…¥é‡‘é¢">
            <template #prefix>
              <span class="slot-text">Â¥</span>
            </template>
            <template #suffix>
              <span class="slot-text">å…ƒ</span>
            </template>
          </FInput>
          <FInput v-model="inputValue" placeholder="è¯·è¾“å…¥é“¾æ¥">
            <template #suffix>
              <span class="slot-icon">ğŸ”—</span>
            </template>
          </FInput>
        </div>
      </div>

      <!-- åœºæ™¯ä¸ƒï¼šå¤åˆè¾“å…¥æ¡† -->
      <div class="section">
        <h3>å¤åˆè¾“å…¥æ¡†ï¼ˆPrepend / Appendï¼‰</h3>
        <p class="desc">é€šè¿‡ prepend / append æ’æ§½åœ¨è¾“å…¥æ¡†å‰åæ·»åŠ å…ƒç´ </p>
        <div class="row column">
          <FInput v-model="urlValue" placeholder="è¯·è¾“å…¥ç½‘å€">
            <template #prepend>https://</template>
          </FInput>
          <FInput v-model="domainValue" placeholder="è¯·è¾“å…¥åŸŸå">
            <template #append>.com</template>
          </FInput>
          <FInput v-model="fullUrlValue" placeholder="è¯·è¾“å…¥">
            <template #prepend>https://</template>
            <template #append>.com</template>
          </FInput>
        </div>
      </div>

      <!-- åœºæ™¯å…«ï¼šå­—æ•°é™åˆ¶ -->
      <div class="section">
        <h3>å­—æ•°é™åˆ¶</h3>
        <p class="desc">é…åˆ maxlength å’Œ show-word-limit æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡</p>
        <div class="row">
          <FInput v-model="limitValue" placeholder="æœ€å¤šè¾“å…¥10ä¸ªå­—ç¬¦" :maxlength="10" show-word-limit />
        </div>
      </div>

      <!-- åœºæ™¯ä¹ï¼šTextarea æ–‡æœ¬åŸŸ -->
      <div class="section">
        <h3>æ–‡æœ¬åŸŸï¼ˆTextareaï¼‰</h3>
        <div class="row column">
          <FInput v-model="textareaValue" type="textarea" placeholder="è¯·è¾“å…¥å¤šè¡Œæ–‡æœ¬" />
          <FInput
            v-model="textareaLimitValue"
            type="textarea"
            placeholder="æœ€å¤š200å­—"
            :maxlength="200"
            show-word-limit
            :rows="4"
          />
        </div>
      </div>

      <!-- åœºæ™¯åï¼šTextarea è‡ªé€‚åº”é«˜åº¦ -->
      <div class="section">
        <h3>è‡ªé€‚åº”é«˜åº¦ Textarea</h3>
        <p class="desc">é€šè¿‡ autosize å±æ€§è‡ªé€‚åº”å†…å®¹é«˜åº¦ï¼Œå¯è®¾ç½®æœ€å°å’Œæœ€å¤§è¡Œæ•°</p>
        <div class="row column">
          <FInput
            v-model="autosizeValue"
            type="textarea"
            placeholder="è‡ªé€‚åº”é«˜åº¦ï¼ˆæ— é™åˆ¶ï¼‰"
            autosize
          />
          <FInput
            v-model="autosizeRangeValue"
            type="textarea"
            placeholder="è‡ªé€‚åº”é«˜åº¦ï¼ˆæœ€å°‘2è¡Œï¼Œæœ€å¤š6è¡Œï¼‰"
            :autosize="{ minRows: 2, maxRows: 6 }"
          />
        </div>
      </div>

      <!-- åœºæ™¯åä¸€ï¼šç¦ç”¨çŠ¶æ€ -->
      <div class="section">
        <h3>ç¦ç”¨çŠ¶æ€</h3>
        <div class="row">
          <FInput v-model="inputValue" disabled placeholder="ç¦ç”¨çš„è¾“å…¥æ¡†" />
          <FInput v-model="textareaValue" type="textarea" disabled placeholder="ç¦ç”¨çš„æ–‡æœ¬åŸŸ" />
        </div>
      </div>

      <!-- åœºæ™¯åäºŒï¼šåªè¯»çŠ¶æ€ -->
      <div class="section">
        <h3>åªè¯»çŠ¶æ€</h3>
        <div class="row">
          <FInput model-value="åªè¯»å†…å®¹" readonly />
          <FInput model-value="åªè¯»æ–‡æœ¬åŸŸå†…å®¹" type="textarea" readonly />
        </div>
      </div>

      <!-- åœºæ™¯åä¸‰ï¼šæ ¡éªŒçŠ¶æ€ -->
      <div class="section">
        <h3>æ ¡éªŒçŠ¶æ€</h3>
        <div class="row">
          <FInput v-model="inputValue" invalid placeholder="æ ¡éªŒå¤±è´¥çš„è¾“å…¥æ¡†" />
          <FInput v-model="inputValue" type="textarea" invalid placeholder="æ ¡éªŒå¤±è´¥çš„æ–‡æœ¬åŸŸ" />
        </div>
      </div>

      <!-- åœºæ™¯åå››ï¼šæ— éšœç¢æ”¯æŒ -->
      <div class="section">
        <h3>æ— éšœç¢æ”¯æŒ</h3>
        <div class="row column">
          <div class="form-field">
            <label :for="inputId">ç”¨æˆ·å</label>
            <FInput :id="inputId" v-model="inputValue" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
          </div>
          <div class="form-field">
            <label :for="emailFieldId">é‚®ç®±</label>
            <FInput
              :id="emailFieldId"
              v-model="emailFieldValue"
              placeholder="è¯·è¾“å…¥é‚®ç®±"
              required
              :describedby="emailHelpId"
            />
            <span :id="emailHelpId" class="help-text">è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€</span>
          </div>
        </div>
      </div>

      <!-- åœºæ™¯åäº”ï¼šç»„åˆä½¿ç”¨ -->
      <div class="section">
        <h3>ç»„åˆä½¿ç”¨</h3>
        <p class="desc">clearable + prefix + suffix + å­—æ•°é™åˆ¶</p>
        <div class="row column">
          <FInput
            v-model="comboValue"
            placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹"
            clearable
            :maxlength="30"
            show-word-limit
          >
            <template #prefix>
              <span class="slot-icon">ğŸ”</span>
            </template>
          </FInput>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
defineOptions({ name: 'FInput-Demo', inheritAttrs: false })

import { ref } from 'vue'

const inputValue = ref('')
const passwordValue = ref('')
const numberValue = ref('')
const emailValue = ref('')
const searchValue = ref('')
const clearableValue = ref('å¯ä»¥æ¸…é™¤è¿™æ®µæ–‡å­—')
const showPwdValue = ref('')
const urlValue = ref('')
const domainValue = ref('')
const fullUrlValue = ref('')
const limitValue = ref('')
const textareaValue = ref('')
const textareaLimitValue = ref('')
const autosizeValue = ref('')
const autosizeRangeValue = ref('')
const emailFieldValue = ref('')
const comboValue = ref('')
const inputId = 'f-input-username'
const emailFieldId = 'f-input-email'
const emailHelpId = 'f-input-email-help'
</script>

<style scoped lang="scss">
.demoBox {
  width: 100%;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 40px;

  .section {
    width: 100%;

    h3 {
      margin-bottom: 8px;
      font-size: 18px;
      font-weight: 600;
    }

    .desc {
      margin-bottom: 16px;
      font-size: 13px;
      color: var(--f-text-secondary, #999);
    }
  }

  .row {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    padding: 16px 20px;
    align-items: center;

    &.column {
      flex-direction: column;
      align-items: stretch;
    }
  }

  :deep(.f-input),
  :deep(.f-textarea) {
    width: 320px;
  }

  .row.column {
    :deep(.f-input),
    :deep(.f-textarea) {
      width: 100%;
      max-width: 500px;
    }
  }

  .slot-icon {
    font-size: 14px;
    line-height: 1;
  }

  .slot-text {
    font-size: 13px;
    color: var(--f-text-secondary, #999);
    line-height: 1;
  }

  .form-field {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-width: 500px;

    label {
      font-size: 14px;
      font-weight: 500;
    }
  }

  .help-text {
    display: block;
    margin-top: 4px;
    font-size: 12px;
    color: var(--f-text-secondary, #666);
  }
}
</style>
