# å‘å¸ƒæµç¨‹æ–‡æ¡£

æœ¬æ–‡æ¡£è¯´æ˜ FitUI ç»„ä»¶åº“çš„å‘å¸ƒæµç¨‹å’Œæœ€ä½³å®è·µã€‚

## ğŸ“‹ å‘å¸ƒå‰å‡†å¤‡

### 1. ç¡®ä¿ä»£ç è´¨é‡

```bash
# è¿è¡Œæµ‹è¯•
cd packages/fit-ui
pnpm test:run

# ä»£ç æ£€æŸ¥
pnpm lint

# ä»£ç æ ¼å¼åŒ–
pnpm format
```

### 2. æ›´æ–°ç‰ˆæœ¬å·

æ ¹æ®æ”¹åŠ¨ç±»å‹æ›´æ–° `packages/fit-ui/package.json` ä¸­çš„ç‰ˆæœ¬å·ï¼š

- **patch** (1.0.0 â†’ 1.0.1): Bug ä¿®å¤
- **minor** (1.0.0 â†’ 1.1.0): æ–°åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
- **major** (1.0.0 â†’ 2.0.0): ç ´åæ€§æ›´æ–°

### 3. æ›´æ–° CHANGELOG

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
pnpm changelog
```

è¿™ä¼šæ ¹æ® git commit è®°å½•è‡ªåŠ¨ç”Ÿæˆ CHANGELOG.md

### 4. æäº¤æ›´æ”¹

```bash
git add .
git commit -m "chore: release v1.x.x"
git push
```

---

## ğŸš€ å‘å¸ƒæ–¹å¼

### æ–¹å¼ 1ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰

**åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š**

```bash
pnpm release
```

æˆ–ç›´æ¥è¿è¡Œè„šæœ¬ï¼š

```bash
bash release.sh
```

**è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š**

1. âœ… æ£€æŸ¥ Git çŠ¶æ€ï¼ˆç¡®ä¿æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ï¼‰
2. âœ… æ£€æŸ¥å½“å‰åˆ†æ”¯ï¼ˆå»ºè®®åœ¨ `publish-fit-ui` åˆ†æ”¯ï¼‰
3. âœ… æ‹‰å–æœ€æ–°ä»£ç 
4. âœ… å®‰è£…ä¾èµ–
5. âœ… è¿è¡Œå•å…ƒæµ‹è¯•
6. âœ… ä»£ç è´¨é‡æ£€æŸ¥
7. âœ… æ¸…ç†å¹¶é‡æ–°æ„å»º
8. âœ… éªŒè¯æ„å»ºäº§ç‰©
9. âœ… å‘å¸ƒåˆ° npm
10. âœ… åˆ›å»º Git æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰

### æ–¹å¼ 2ï¼šä½¿ç”¨ npm scripts

**åœ¨ `packages/fit-ui` ç›®å½•ï¼š**

```bash
# é¢„å‘å¸ƒæ£€æŸ¥ï¼ˆä¸çœŸæ­£å‘å¸ƒï¼‰
pnpm release:dry

# å‘å¸ƒæ£€æŸ¥ï¼ˆæµ‹è¯•ã€lintã€æ„å»ºï¼‰
pnpm release:check

# ç›´æ¥å‘å¸ƒ
pnpm release
```

### æ–¹å¼ 3ï¼šæ‰‹åŠ¨å‘å¸ƒ

```bash
cd packages/fit-ui

# 1. è¿è¡Œæ£€æŸ¥
pnpm test:run
pnpm lint

# 2. æ„å»º
pnpm build

# 3. é…ç½® registry
pnpm config set registry https://registry.npmjs.org/

# 4. ç™»å½• npmï¼ˆå¦‚æœéœ€è¦ï¼‰
pnpm login

# 5. å‘å¸ƒ
pnpm publish --no-git-checks

# 6. æ¢å¤ registry
pnpm config set registry https://registry.npmmirror.com/
```

---

## ğŸ¤– è‡ªåŠ¨å‘å¸ƒï¼ˆCI/CDï¼‰

æ¨é€åˆ° `publish-fit-ui` åˆ†æ”¯ä¼šè‡ªåŠ¨è§¦å‘ GitHub Actions å‘å¸ƒæµç¨‹ã€‚

### è§¦å‘æ–¹å¼

```bash
# 1. åˆ‡æ¢åˆ°å‘å¸ƒåˆ†æ”¯
git checkout publish-fit-ui

# 2. åˆå¹¶æˆ– cherry-pick æ”¹åŠ¨
git merge dev-fit-ui
# æˆ–
git cherry-pick <commit-hash>

# 3. æ¨é€
git push origin publish-fit-ui
```

### CI/CD æµç¨‹

1. å®‰è£…ä¾èµ–
2. è¿è¡Œæµ‹è¯•
3. ä»£ç æ£€æŸ¥
4. æ„å»º
5. è‡ªåŠ¨å‘å¸ƒåˆ° npm

---

## ğŸ“ å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰è¯·ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç é€šè¿‡ lint æ£€æŸ¥
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] CHANGELOG å·²æ›´æ–°
- [ ] README æ–‡æ¡£æ˜¯æœ€æ–°çš„
- [ ] æ„å»ºäº§ç‰©å®Œæ•´
- [ ] å·²åœ¨æœ¬åœ°æµ‹è¯•è¿‡æ–°ç‰ˆæœ¬
- [ ] Git çŠ¶æ€å¹²å‡€ï¼ˆæ— æœªæäº¤æ›´æ”¹ï¼‰

---

## ğŸ”„ å‘å¸ƒåæ“ä½œ

### 1. éªŒè¯å‘å¸ƒ

```bash
# æŸ¥çœ‹ npm ä¸Šçš„ç‰ˆæœ¬
npm view @geniusmanyxh/fit-ui version

# æˆ–è®¿é—®
# https://www.npmjs.com/package/@geniusmanyxh/fit-ui
```

### 2. åˆ›å»º GitHub Release

1. è®¿é—® [GitHub Releases](https://github.com/geniusmanyxh/FitUI/releases)
2. ç‚¹å‡» "Draft a new release"
3. é€‰æ‹©åˆšåˆ›å»ºçš„æ ‡ç­¾
4. å¡«å†™ Release Notesï¼ˆå¯ä» CHANGELOG å¤åˆ¶ï¼‰
5. å‘å¸ƒ

### 3. æµ‹è¯•æ–°ç‰ˆæœ¬

åœ¨æµ‹è¯•é¡¹ç›®ä¸­å®‰è£…æ–°ç‰ˆæœ¬ï¼š

```bash
npm install @geniusmanyxh/fit-ui@latest
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. å‘å¸ƒå¤±è´¥ï¼šéœ€è¦ç™»å½•

```bash
# ç™»å½• npm
pnpm login

# æˆ–ä½¿ç”¨ npm
npm login
```

### 2. å‘å¸ƒå¤±è´¥ï¼šç‰ˆæœ¬å·²å­˜åœ¨

éœ€è¦æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·ï¼Œä¸èƒ½å‘å¸ƒå·²å­˜åœ¨çš„ç‰ˆæœ¬ã€‚

### 3. å‘å¸ƒå¤±è´¥ï¼šæƒé™ä¸è¶³

ç¡®ä¿ä½ çš„ npm è´¦å·æœ‰å‘å¸ƒæƒé™ï¼Œè”ç³»åŒ…ç®¡ç†å‘˜æ·»åŠ æƒé™ã€‚

### 4. æ„å»ºäº§ç‰©ç¼ºå¤±

```bash
# æ¸…ç†å¹¶é‡æ–°æ„å»º
rm -rf dist
pnpm build
```

### 5. Git çŠ¶æ€ä¸å¹²å‡€

```bash
# æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
git status

# æäº¤æˆ–æš‚å­˜æ›´æ”¹
git add .
git commit -m "your message"
```

---

## ğŸ” npm ä»¤ç‰Œé…ç½®ï¼ˆCI/CDï¼‰

GitHub Actions éœ€è¦é…ç½® npm ä»¤ç‰Œï¼š

1. ç™»å½• [npmjs.com](https://www.npmjs.com/)
2. Settings â†’ Access Tokens
3. Generate New Token (Automation)
4. å¤åˆ¶ä»¤ç‰Œ
5. åœ¨ GitHub ä»“åº“ Settings â†’ Secrets â†’ Actions
6. æ·»åŠ  Secret: `FIT_UI_NPM` = ä½ çš„ä»¤ç‰Œ

---

## ğŸ“Š ç‰ˆæœ¬ç­–ç•¥

### Semantic Versioning (è¯­ä¹‰åŒ–ç‰ˆæœ¬)

éµå¾ª [Semantic Versioning 2.0.0](https://semver.org/) è§„èŒƒï¼š

**æ ¼å¼ï¼š** `MAJOR.MINOR.PATCH`

- **MAJOR**: ä¸å…¼å®¹çš„ API æ”¹åŠ¨
- **MINOR**: å‘åå…¼å®¹çš„æ–°åŠŸèƒ½
- **PATCH**: å‘åå…¼å®¹çš„ Bug ä¿®å¤

### ç‰ˆæœ¬å‘½åå»ºè®®

**ç¨³å®šç‰ˆæœ¬ï¼š**
- `1.0.0`, `1.1.0`, `2.0.0`

**é¢„å‘å¸ƒç‰ˆæœ¬ï¼š**
- `1.0.0-alpha.1`: å†…éƒ¨æµ‹è¯•
- `1.0.0-beta.1`: å…¬å¼€æµ‹è¯•
- `1.0.0-rc.1`: å€™é€‰ç‰ˆæœ¬

### å‘å¸ƒé¢‘ç‡å»ºè®®

- **Patch**: æ¯ 1-2 å‘¨ï¼ˆBug ä¿®å¤ï¼‰
- **Minor**: æ¯ 1-2 æœˆï¼ˆæ–°åŠŸèƒ½ï¼‰
- **Major**: æ¯ 6-12 æœˆï¼ˆé‡å¤§æ›´æ–°ï¼‰

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **å‘å¸ƒå‰å……åˆ†æµ‹è¯•**
   - è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶
   - åœ¨çœŸå®é¡¹ç›®ä¸­æµ‹è¯•æ–°åŠŸèƒ½

2. **ä¿æŒ CHANGELOG æ›´æ–°**
   - æ¯æ¬¡å‘å¸ƒå‰æ›´æ–° CHANGELOG
   - æè¿°æ¸…æ™°ï¼Œç”¨æˆ·æ˜“æ‡‚

3. **éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬**
   - ä¸¥æ ¼æŒ‰ç…§ SemVer è§„èŒƒ
   - é‡å¤§å˜æ›´æå‰å…¬å‘Š

4. **ä½¿ç”¨ Git æ ‡ç­¾**
   - æ¯æ¬¡å‘å¸ƒåˆ›å»ºå¯¹åº”æ ‡ç­¾
   - ä¾¿äºå›æº¯å’Œé—®é¢˜æ’æŸ¥

5. **å‘å¸ƒåéªŒè¯**
   - æ£€æŸ¥ npm åŒ…æ˜¯å¦æ­£å¸¸
   - åœ¨æµ‹è¯•é¡¹ç›®ä¸­éªŒè¯

6. **æ¸è¿›å¼å‘å¸ƒ**
   - å…ˆå‘å¸ƒ beta ç‰ˆæœ¬
   - ç¨³å®šåå†å‘å¸ƒæ­£å¼ç‰ˆ

---

## ğŸ“® è·å–å¸®åŠ©

å¦‚æœ‰é—®é¢˜ï¼š

- æŸ¥çœ‹ [CONTRIBUTING.md](../CONTRIBUTING.md)
- æäº¤ [Issue](https://github.com/geniusmanyxh/FitUI/issues)
- è”ç³»ç»´æŠ¤è€…

---

**ç¥å‘å¸ƒé¡ºåˆ©ï¼ğŸ‰**
